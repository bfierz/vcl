#version 430 core
#extension GL_GOOGLE_include_directive : enable
#extension GL_ARB_enhanced_layouts : enable

#include "3DSceneBindings.h"

////////////////////////////////////////////////////////////////////////////////
// Shader Configuration
////////////////////////////////////////////////////////////////////////////////
layout(lines) in;
layout(line_strip, max_vertices = 2) out;

////////////////////////////////////////////////////////////////////////////////
// Shader Input
////////////////////////////////////////////////////////////////////////////////
layout(location = 0) in VertexData
{
	vec3 Colour;
} In[2];

////////////////////////////////////////////////////////////////////////////////
// Shader Output
////////////////////////////////////////////////////////////////////////////////
layout(location = 0) out VertexData
{
	vec3 Colour;
} Out;

////////////////////////////////////////////////////////////////////////////////
// Implementation
////////////////////////////////////////////////////////////////////////////////
void main(void)
{
	Out.Colour = In[1].Colour;
	gl_Position = ProjectionMatrix * gl_in[0].gl_Position;
	EmitVertex();

	Out.Colour = In[1].Colour;
	gl_Position = ProjectionMatrix * gl_in[1].gl_Position;
	EmitVertex();

	EndPrimitive();
}
