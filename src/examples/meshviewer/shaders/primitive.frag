#version 400 core

////////////////////////////////////////////////////////////////////////////////
// Input data from last stage
////////////////////////////////////////////////////////////////////////////////
in VertexData
{
} In;

in int gl_PrimitiveID;

////////////////////////////////////////////////////////////////////////////////
// Output data
////////////////////////////////////////////////////////////////////////////////

// x/y: Object ID; Primitive ID
out ivec2 ObjectIds;

// x/y/z: Vertex IDs of primitive triangles
out ivec4 PrimitiveVertexIds;

// x/y: Barycentric coordinates of a fragment within the triangle
out vec2 BarycentricCoords;

////////////////////////////////////////////////////////////////////////////////
// Shader constants
////////////////////////////////////////////////////////////////////////////////
uniform int ObjectIdx;

////////////////////////////////////////////////////////////////////////////////
// Implementation
////////////////////////////////////////////////////////////////////////////////
void main(void)
{
	// Store 1-based IDs
	ObjectIds.x = ObjectIdx;
    ObjectIds.y = gl_PrimitiveID;
}
